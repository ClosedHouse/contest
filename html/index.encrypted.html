<html>
<head>
<title>OpenHouse 2015</title>
<script src="./jquery-2.1.3.min.js"></script>
<script src="./jquery.terminal-0.8.8.min.js"></script>
<script src="./aes.js"></script>
<link href="./jquery.terminal.css" rel="stylesheet"/>
<link href="./index.css" rel="stylesheet"/>
<script>
(function($) {
    $.fn.tilda = function(eval, options) {
        if ($('body').data('tilda')) {
            return $('body').data('tilda').terminal;
        }
        this.addClass('tilda');
        options = options || {};
        eval = eval || function(command, term) {
            term.echo("you don't set eval for tilda");
        };
        var settings = {
            prompt: 'command> ',
            name: 'tilda',
            height: 100,
            enabled: false,
            greetings: 'use \"help\" command for ... help',
            keypress: function(e) {
                if (e.which == 96) {
                    return false;
                }
            }
        };
        if (options) {
            $.extend(settings, options);
        }
        this.append('<div class="td"></div>');
        var self = this;
        self.terminal = this.find('.td').terminal(eval, settings);
	self.terminal.purge();
        var focus = false;
        $(document.documentElement).keypress(function(e) {
            if (e.which == 96) {
                self.slideToggle('fast');
                self.terminal.focus(focus = !focus);
                self.terminal.attr({
                    scrollTop: self.terminal.attr("scrollHeight")
                });
            }
        });
        $('body').data('tilda', this);
        this.hide();
        return self;
    };
})(jQuery);
//--------------------------------------------------------------------------
var help_used = 0;
var shell_locked = 1;
var actual_scene = "";
var next_scene = "#scene4";
var hints_max = 0;
var actual_hint = 0;
var hints_enabled = 0;

function hide_all_scenes() {
	$('div[id^="scene"]').each(
		function(index) {
			$(this).hide();
		}
	);
}

function hide_all_hints_by_scene_name(scene_name) {
	$(scene_name).find('div[id^="hint"]').each(
		function(index) {
			$(this).hide();
		}
	);
}

jQuery(document).ready(function($) {
    $('#tilda').tilda(function(command, terminal) {
	    if (shell_locked == 1) {
		terminal.echo('Shell is now locked.');
		return;
	    }

	    if (command == "help") {
	    	if (help_used) {
			terminal.echo('No help avaiable now');
			return;
		}
		help_used = 1;
		terminal.echo('Hide this terminal to see whole manual page.');
		hide_all_scenes();
		$("#scene3").show();
		return;
	    }

	    if (command == "hint") {
		if (!hints_enabled) {
			terminal.echo('Hint\'s are not enabled now');
			return;
		}

		skip = 0;
		$(actual_scene).find('div[id^="hint"]:hidden').each(
			function(index) {
				if (skip) { return; }
				skip = 1
				$(this).show();
			}
		);

		if (skip == 0) {
			terminal.echo('No more hints.');
		}

		return;
	    }

	    var cmd = command.split(" ");
	    if (cmd[0] == "jmp") {
			var decrypt = CryptoJS.AES.decrypt($(next_scene).html(), cmd[1]);
			$(next_scene).html(decrypt.toString(CryptoJS.enc.Utf8));
			return;
	    }

	terminal.echo('Unknown command my master');
    });


hide_all_scenes();
$("#scene1-bg").show();
$("#scene1").show();

function switch_scene(src_scene, dst_scene, delay) {
	$(src_scene).delay(delay).fadeOut(2000, function() {
		$(dst_scene).fadeIn(2000, function() {});
	});
}

$( '#scene1' ).click(function() {
	$('#scene1').fadeOut(2000, function() {});
	$('#scene2-bg').delay(2000).fadeIn(2000, function() { 
		$('#scene2').fadeIn(2000, function() { switch_scene('#scene2', '#scene2-1', 0) });
		switch_scene("#scene2-1", "#scene2-2", 0);
		shell_locked = 0;
	});
})

})

</script>
</head>
<body>
<div id="tilda"></div>
	<!-- intro -->
            <div id="scene1-bg">
		    <div id="scene1">ENTER the GAME</div>
	    </div>
            <div id="scene2"></div>
            <div id="scene2-1">Welcome</br></br></br></div>
            <div id="scene2-2">The GAME</div>
            <div id="scene2-bg"></div>

            <div id="scene3">
                <p>
                  Your VPS server has been hacked by a well known hacker organisation. They call themselves <b>Pumpkin Squad</b> and they fight for freedom of their pumpkins. Pumpkins and hacking are essential for their lives.
                </p>
                <p>
                  The server has been disconnected from the internet after the incident. As a security expert, you have been called top perform some further investigation and fix the server. Time is expensive, the server needs to be secured back soon!
                </p>
                <p>
                  This game consists of several levels. In each level you can get an access code to a next level. The codes are in the format like "OH15_234567".
                </p>
                <p>
                  First of all, you need to connect to your hacked server. Open a real terminal (not that dummy one in your browser) and use:
                </p>
                <pre>
                  $ ssh root@hacked
                </pre>
                <p>
                  Once you find the access code, switch back to the browser, press ~ key and type 'jmp' followed by the code.
                </p>
            </div>

            <div id="scene4">U2FsdGVkX19ZFDHw7820IokFzDpBDUmRkecKj+64gDVjvSCabSgman530VVZJHgAtIlscAhkIhSeWkskn3c7gKmjhtoG9JXzczngs5Wmy6pZm6AgaqNaDOAcCYKl4vOEV5F+b9TXVHJmUSHZBrr4HN5t6DOwCspyPZKbaEmL0/t9aV9FzSgIwXyrEoeC0qWh5OFpjcXGelGtTTqmtzcSqse/Cl1tb9n5tRqScYs81p6bOff1NzI4+ytwcCfxWOVQ1taKxFiJLXRaMos1zXYgoUS6Tjuoox254Lhm6XXk4HINX+LUbw6O32+z1dWuCBQI3ZSa1gZ0dnfhZdO66gy113v57u2gV8rUyz/e8qB4IgJ5wWGtWdpSiFVorJY3DEMb3CharMjOIBKhiiD1OabRAYQk4ACwi3RlKigzmCallNtzbHu830VAHUoEM8rQuPomcBPCBdoA9VHY/P46MqOdIfIc8u+B9u6WhpxcbpCj8vC28erJ/Ufbd2ZHio3zOIM0uqtpAV68Rsfr+fuQJsD6SbbIaAB/Z8yrVq/DoTMldqTvfY+Cn+TGPN6loPnPckjx6G113+pmRKQX/nmINqfvBgG6BkwSoinJAkVWEJG9ynxSJz/MUodXYBk3feMCBUp5zfjvUzhGY4KHJIZTbRs7FQ3FZu0GOGUz4ejHsep7ioNSaNBmSoAyh9ZDk406CxK1/oaDt2lA2NwQP2wpQNjziTYCmuerJcnx/YFUZXkTsh4rsG/whOMrdQHwetC4X3dezXXoTkfMa/2F00c/qBZWIkaoH5UzPXRsUyFqnXFkKKCs5kTOdKC974Cdrrk81FmTgYqWN1WH6vqkYWuKFSXqLo50RCntEINvKKFX7TGxObZIM771dOztNXLJCL04yiT9ZEH3gzw+8ZkthSZ/cjsJ3UyLqPfccIGbnEY/N0EmgugCH6lplhgvoJ3J+UMzDPIqNfmPfe6cPBjrBSie4/sGBPYeerzW1sehjbZaudFF7kPF8zmPzE0oscGtCp9bsw09BzbvL4ztCYAz2bu2bi+8p1+tc4YsXiHSUIe8sGN07vUfuWv80jis2RvEWKCazK22ZFQiLU4jI0TCLkBETngQMEe+fUzHbInR7sVqBxpowpu9ozT7iTw5wNENaqygOLa9KUyFPFiXnMydjvdUjB5izTe0sMAyR4QHnYvR0qvsb6BzDNDN8X9Pszaq1IOSmn+2VHbnIIHdjUw2PPi7CuLmVpLoC+LoxiTa5LzHGgJO0B66CnFPYk13f/Nx+eRDvmZ81misGCa0d9L5awYmFJJpsN/KtXCmmJTdMM57JyLXGzqAPY5zybsua2+PgZwccnq+NS67ftPbU3G+njRGmHYt5ell20kMoX2PaJ9YnlZIAVgqqkUgcGfx28fdg9uItgJ+xFOIxSC5mkyU/kpFx81exEeD2komfPQqRopWpZiYtGBBjI/FDMm02tac1l3NE9m0</div>
            <div id="scene5">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</div>
            <div id="scene6">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</div>
            <div id="scene7">U2FsdGVkX1/XozntfNaS4QUGxxOFNasdj2xPQOw0lVxHyPL6Xd+0AEGmt2GbJ2au1Q1keGCvborADmV8yCA9zAMMZdIfO6SwG20H5Gpr+r4SLFR+0VFvXCDTQGD9BJW73WaRmT1m7PpPnEbiUDSNhxphYeRqkcgshO91OHkBarCQ+ut/oVx8OqGFUe0NoBnG5jrCJheolArgjts/ojotQe9wgMwcqmlrvpOV+eptC3AkSxxlZJBUIsSRowFCNVQ4M46z4fDR8340bKnpRHFpiJxLVkirmlj1PSONoDBbPx+s76HzdygeAEh1VPDiZboL2tiVfg6hVnDrmc2w4IAxL+e4tc08X4Yf1w2q8cNiz5N42yvxWZ0Vv/ELnYmXF1jGlEMUct493NfTHK4S6djlddHp1Dnp5bF6xobDl39ppT/d1/ZARROzW47ToTxTWSixaMvI2rJI2hc0Gzw98EAe35RdpLCAn+pJmp9ctj9Xq99oUFPQ6PGnm6o/Qj4LmjqVUvqepTYP21E+S7c3pIzYktg/Bg0E06nk1PWPZUigsI0DM7cTLRm2xMOHJy5rSyCRib+DNe0WARfdyvJ0rtWP1v3t7ybgwjiiEh2+3V3OMCag9gmX86tBw7Odwof/gossKNy1e43rFKegFF0tIi0yirr8l7Xfp3gOSxeA5FJciYE=</div>
</body>
